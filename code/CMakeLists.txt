cmake_minimum_required (VERSION 2.6)
project (Transcode)
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ./bin)
set(CMAKE_CXX_FLAGS "-pedantic-errors")
set(CMAKE_CXX_STANDARD 11)
set(CMAKE_BUILD_TYPE Debug)
file(GLOB SOURCES ${CMAKE_SOURCE_DIR}/src/*.cpp)
include_directories(${CMAKE_SOURCE_DIR}/../include)
include_directories(${CMAKE_SOURCE_DIR}/inc)
link_directories(${CMAKE_SOURCE_DIR}/../lib)
add_executable(Transcode ${SOURCES})
add_executable(transcode_aac ${CMAKE_SOURCE_DIR}/src/transcode_aac.c)
add_executable(mixed ${CMAKE_SOURCE_DIR}/src/mixed.c)
add_executable(transcoding ${CMAKE_SOURCE_DIR}/src/transcoding.c)
add_executable(remuxing ${CMAKE_SOURCE_DIR}/src/remuxing.c)
set(ffmpeg_lib avformat avfilter avcodec swresample swscale avutil avdevice z m pthread x264 fdk-aac va dl postproc vdpau X11 va-drm va-x11)
target_link_libraries(Transcode ${ffmpeg_lib})
target_link_libraries(Transcode gtest)
target_link_libraries(Transcode gtest_main)
target_link_libraries(Transcode pthread)
target_link_libraries(transcode_aac ${ffmpeg_lib})
target_link_libraries(mixed ${ffmpeg_lib})
target_link_libraries(transcoding ${ffmpeg_lib})
target_link_libraries(remuxing ${ffmpeg_lib})
